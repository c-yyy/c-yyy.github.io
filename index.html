<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>inpm</title>
  <meta name="author" content="inpm.cy@gmail.com">
  
  <meta name="description" content="ä¸ªäººåšå®¢ï¼Œé‡åœ¨åˆ†äº«">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="inpm">

  
    <meta property="og:image" content="">
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>
</html>
 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">inpm</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header logo">
  <h1>EVER YOUTHFUL,EVER WEEPING<span class="blink-fast">âˆ</span></h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">


		<i class="fa fa-heart blink-slow"></i>

		Keep and carry on.

</div>    

		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2019/01/17/myApp/" title="è‡ªå·±å¯¹ä¸€ä¸ªappçš„ç†è§£">myApp</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2019-01-17  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="ä¸ºä»€ä¹ˆæœ‰app"><a href="#ä¸ºä»€ä¹ˆæœ‰app" class="headerlink" title="ä¸ºä»€ä¹ˆæœ‰app"></a>ä¸ºä»€ä¹ˆæœ‰app</h1><h1 id="æˆ‘å¯¹appçš„ç†è§£"><a href="#æˆ‘å¯¹appçš„ç†è§£" class="headerlink" title="æˆ‘å¯¹appçš„ç†è§£"></a>æˆ‘å¯¹appçš„ç†è§£</h1>
	
	</div>
  <a type="button" href="/2019/01/17/myApp/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2019/01/17/2019weChat/" title="è§‚2019å¾®ä¿¡å…¬å¼€è¯¾æœ‰æ„ŸåŠå¯¹ä¸‰ä¸ªæ–°ç¤¾äº¤è½¯ä»¶ç†è§£">2019å¾®ä¿¡å…¬å¼€è¯¾æœ‰æ„Ÿ</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2019-01-17  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="2019å¾®ä¿¡å…¬å¼€è¯¾"><a href="#2019å¾®ä¿¡å…¬å¼€è¯¾" class="headerlink" title="2019å¾®ä¿¡å…¬å¼€è¯¾"></a>2019å¾®ä¿¡å…¬å¼€è¯¾</h1><h1 id="ä¸‰ä¸ªæ–°ç¤¾äº¤è½¯ä»¶"><a href="#ä¸‰ä¸ªæ–°ç¤¾äº¤è½¯ä»¶" class="headerlink" title="ä¸‰ä¸ªæ–°ç¤¾äº¤è½¯ä»¶"></a>ä¸‰ä¸ªæ–°ç¤¾äº¤è½¯ä»¶</h1>
	
	</div>
  <a type="button" href="/2019/01/17/2019weChat/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2019/01/04/answer-forU/" title="é¢è¯•å¤ä¹ -ç­”æ¡ˆç‰ˆï¼ˆå»ºè®®æ‰¾å°ä¼™ä¼´ä¸€é—®ä¸€ç­”ï¼‰">ã€#2019é¢è¯•å‡†å¤‡ã€‘ç­”æ¡ˆç‰ˆ</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2019-01-04  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="HTMLã€CSS"><a href="#HTMLã€CSS" class="headerlink" title="HTMLã€CSS"></a>HTMLã€CSS</h1><blockquote>
<p>[1]è¯´å‡ ä¸ªå…³äºHTML5å’ŒCSS3çš„æ–°ç‰¹æ€§<br>å…³äºHTML5ï¼Œè¯­ä¹‰åŒ–ï¼Œç¦»çº¿æ›´æ–°ServiceWorkerï¼ŒPostMessagesã€WebSocketã€WebRTC<br>å…³äºCSS3ï¼ŒFlexå¼¹æ€§ç›’å¸ƒå±€ã€åª’ä½“æŸ¥è¯¢ã€åŠ¨æ•ˆï¼ˆTransformã€Transtionã€Animationï¼‰ã€é¢„ç¼–è¯‘</p>
</blockquote>
<blockquote>
<p>[2]æ°´å¹³/å‚ç›´å±…ä¸­ã€é¡µé¢å¸ƒå±€çš„å‡ ç§è§£å†³æ–¹æ¡ˆåŠä¼˜ç¼ºç‚¹<br>æ°´å¹³/å‚ç›´å±…ä¸­<br>å·²çŸ¥å®½:margin:0 auto;(position:absolute;top:50%;left:50%;transform: translate(50%,50%))<br>æœªçŸ¥å®½(flexbox):justify-content: center;align-items: center;<br>é¡µé¢å¸ƒå±€<br>æµ®åŠ¨ï¼Œéœ€è¦æ¸…é™¤æµ®åŠ¨<br>ç»å¯¹å®šä½ï¼Œè„±ç¦»æ–‡æ¡£æµå½±å“é¡µé¢ç»“æ„<br>flexï¼Œå®ç”¨æ€§å¼º<br>è¡¨æ ¼ï¼Œ(display:table/table-cell)<br>ç½‘æ ¼ï¼Œ(display:grid;grid-template-rows:100px;grid-template-columns:auto)</p>
</blockquote>
<blockquote>
<p>[3]è°ˆä¸€è°ˆCSSç›’æ¨¡å‹<br>box-sizing:content-box/border-box;<br>æ ‡å‡†æ¨¡å‹ï¼Œcontent-boxï¼Œcontent<br>IEæ¨¡å‹ï¼Œborder-boxï¼Œcontent+padding+border</p>
</blockquote>
<blockquote>
<p>[4]å¯¹åˆ›å»ºå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡çš„ç†è§£<br>BFCå…ƒç´ å‚ç›´æ–¹å‘è¾¹è·é‡å <br>BFCåŒºåŸŸä¸ä¸æµ®åŠ¨å…ƒç´ é‡å ï¼ˆå¯ç”¨ä½œæ¸…é™¤æµ®åŠ¨ï¼‰<br>ç‹¬ç«‹å®¹å™¨ï¼Œé‡Œå¤–å…ƒç´ äº’ä¸å½±å“<br>æµ®åŠ¨å…ƒç´ å‚ä¸é«˜åº¦è®¡ç®—<br>åˆ›å»ºBFC(æœ‰float;postionå€¼éstatic||reletive;display:table;overflowéhidden)</p>
</blockquote>
<blockquote>
<p>[5]CSSé€‰æ‹©å™¨æƒé‡è®¡ç®—<br>å†…è”â€”idâ€”class/ä¼ªç±»/å±æ€§â€”å…ƒç´ /ä¼ªå…ƒç´ <br>1â€”-1â€”-1â€”-1</p>
</blockquote>
<h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><blockquote>
<p>[1]JSæœ‰å“ªäº›å˜é‡ç±»å‹å’Œå†…ç½®å¯¹è±¡<br>å˜é‡ç±»å‹:Stringã€Numberã€Booleanã€nullã€undefinedã€Symbol<br>å†…ç½®å¯¹è±¡:Objectã€Arrayã€Dateã€RegExpã€Functionã€Booleanã€Numberã€String<br>typeofå¯ä»¥ç”¨æ¥åˆ¤æ–­å˜é‡çš„åŸºæœ¬ç±»å‹<br>instanceofå¯ä»¥ç”¨æ¥åˆ¤æ–­å®ä¾‹çš„æ„é€ å‡½æ•°</p>
</blockquote>
<blockquote>
<p>[2]å¯¹ä½œç”¨åŸŸé“¾çš„ç†è§£<br>æ‰§è¡Œä¸Šä¸‹æ–‡å®šä¹‰äº†å˜é‡ã€å‡½æ•°çš„è¿è¡Œç¯å¢ƒéš¶å±äºé‚£ä¸ªå¯¹è±¡ï¼Œä¾‹å¦‚æ‰€æœ‰çš„å…¨å±€å˜é‡ã€å…¨å±€å‡½æ•°éƒ½æ˜¯åœ¨windowå¯¹è±¡å†…<br>ä½œç”¨åŸŸé“¾å³æ˜¯è‡ªç”±å˜é‡çš„å‘ä¸ŠæŸ¥æ‰¾ï¼Œæ£€æŸ¥å½“å‰ä½œç”¨åŸŸæ˜¯å¦å­˜åœ¨è¿™ä¸ªè‡ªç”±å˜é‡ï¼Œå¦‚æœæ²¡æœ‰å°±å‘ä¸ŠæŸ¥æ‰¾</p>
</blockquote>
<blockquote>
<p>[3]è°ˆä¸€è°ˆé—­åŒ…ã€å¦‚ä½•åˆ›å»ºä¸€ä¸ªé—­åŒ…<br>é—­åŒ…å°±æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°<br>åˆ›å»ºä¸€ä¸ªé—­åŒ…å¯è®²å‡½æ•°ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼æˆ–å‚æ•°ä¼ é€’<br>åå¤„å°±æ˜¯ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Œä¸ä¼šè¢«åƒåœ¾å›æ”¶<br>ï¼ˆPSï¼šè¿™é‡Œçœ‹æƒ…å†µå¯ä»¥å±•å¼€è®²åƒåœ¾å›æ”¶çš„æœºåˆ¶ï¼‰<br>åˆ†æ ‡è®°æ¸…é™¤å’Œå¼•ç”¨è®¡æ•°ï¼ŒV8æ–°å¢ä¸€ä¸ªScavengeGCç®—æ³•ï¼Œç»´æŠ¤ä¸¤ä¸ªç©ºé—´ï¼ˆä¸€ä¸ªé—²ç½®ã€ä¸€ä¸ªä½¿ç”¨ï¼Œæ¸…ç†éå­˜æ´»ï¼Œå¤åˆ¶å‘¼äº’æ¢ï¼‰</p>
</blockquote>
<blockquote>
<p>[4]å¯¹åŸå‹é“¾çš„ç†è§£<br>å®ä¾‹å¯¹è±¡å±æ€§çš„å‘ä¸ŠæŸ¥æ‰¾ï¼Œæ£€æŸ¥å½“å‰å¯¹è±¡æ˜¯å¦æœ‰è¯¥å±æ€§ï¼Œå¦‚æœæ²¡æœ‰å°±å‘å®ƒçš„æ„é€ å‡½æ•°åŸå‹ä¸Šæ‰¾<br>å¯ç”¨instanceofåˆ¤æ–­å…¶æ„é€ å‡½æ•°<br>æœ€é¡¶å±‚åº”æ˜¯nullï¼Œè¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆtypeof nullä¸ºObject</p>
</blockquote>
<blockquote>
<p>[5]JSä¸­å¦‚ä½•å®ç°ç»§æ‰¿<br>åŸå‹é“¾å¯ä»¥ä½œä¸ºé“¾æ¥å¯¹è±¡ä¹‹é—´çš„æ¡¥æ¢ï¼Œé‚£ä¹ˆåšç»§æ‰¿å°±æ˜¯åˆ©ç”¨è¿™ä¸ªæ¡¥æ¢<br>ä¸ºæ„é€ å‡½æ•°çš„åŸå‹ä¸Šå¢åŠ å±æ€§ï¼Œé‚£ä¹ˆå…¶æ‰€æœ‰çš„å®ä¾‹éƒ½å°†æ‹¥æœ‰è¿™ä¸ªå±æ€§<br>é‚£ä¹ˆè¯´å›es6ä¸­çš„extendsæœ¬è´¨ä¸Šä¹Ÿåº”è¯¥æ˜¯ç”¨åŸå‹é“¾å®ç°çš„</p>
</blockquote>
<blockquote>
<p>[6]newæ“ä½œç¬¦å…·ä½“åšäº†ä»€ä¹ˆ<br>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡<br>thisæŒ‡å‘è¿™ä¸ªå¯¹è±¡<br>æ‰§è¡Œä»£ç å³å¯¹thisèµ‹å€¼<br>è¿”å›this</p>
</blockquote>
<blockquote>
<p>[7]JSä¸­thisæ€ä¹ˆç”¨<br>æŒ‡å‘æœ€åè°ƒç”¨çš„é‚£ä¸ªå¯¹è±¡<br>åœ¨ç®­å¤´å‡½æ•°ä¸­é»˜è®¤æŒ‡å‘å…¶ç¬¬ä¸€ä¸ªçˆ¶çº§å¯¹è±¡<br>å¯ç”¨callã€applyã€bindæ”¹å˜thisæŒ‡å‘<br>å…¶ä¸­callå¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°åˆ—è¡¨ã€applyåªæ¥å—ä¸€ä¸ªå‚æ•°æ•°ç»„ã€bindè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°</p>
</blockquote>
<blockquote>
<p>[8]è¯´ä¸€è¯´ajaxçš„è¿‡ç¨‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let xml = new XMLHttpRequest()</span><br><span class="line">xml.open(&apos;GET&apos;,&apos;xxx;&apos;,true)</span><br><span class="line">xml.send()</span><br><span class="line">xml.onreadystatechange()=&gt;&#123;</span><br><span class="line">  if(xml.readyState===4&amp;&amp;xml.status===200)&#123;</span><br><span class="line">    //...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>HttpçŠ¶æ€ç </p>
<blockquote>
<p>[9]ä»€ä¹ˆæ˜¯è·¨åŸŸå¦‚ä½•è§£å†³åŠæ¯ä¸ªæ–¹æ¡ˆçš„ä¼˜ç¼ºç‚¹<br>æµè§ˆå™¨æœ‰åŒæºç­–ç•¥é™åˆ¶ï¼Œä¸å…è®¸ajaxè®¿é—®å…¶ä»–åŸŸæ¥å£<br>åè®®ã€åŸŸåã€ç«¯å£éƒ½è¦ä¸€è‡´<br><a href="https://c-yyy.github.io/2018/12/29/cors/">è·¨åŸŸ</a></p>
</blockquote>
<blockquote>
<p>[10]è°ˆè°ˆä½ å¯¹ES6çš„ç†è§£<br>æ–°å¢å—çº§ä½œç”¨åŸŸï¼Œä½¿å˜é‡æ›´åŠ å¯æ§<br>æ–°å¢Object.assign()ã€æ‹“å±•è¿ç®—ç¬¦ï¼Œå¯ç”¨åšæµ…æ‹·è´<br>æ–°å¢Promiseå¯¹è±¡ï¼Œä½¿ç”¨å¼‚æ­¥è§£å†³callhell<br>æ–°å¢Set(å¯ç”¨ä½œæ•°ç»„å»é‡)ã€Map(åªèƒ½ç”¨stinrgåškey)æ•°æ®ç»“æ„<br>è§£æ„èµ‹å€¼ã€æ¨¡ç‰ˆå­—ç¬¦ä¸²ä½¿æ“ä½œå¯¹è±¡ã€å­—ç¬¦ä¸²æ›´åŠ ä¾¿åˆ©<br>Proxyã€Reflectä¸ºå¯¹è±¡æ¶è®¾ä¸€å±‚â€˜æ‹¦æˆªâ€™ã€ç›‘å¬ä¿®æ”¹<br>Interatoréå†å™¨(è°ƒç”¨æŒ‡é’ˆnextæ–¹æ³•)<br>Generatorå¼‚æ­¥(å†…éƒ¨ä¸ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡å³Interatoréå†å™¨)<br>async/awaitåŒæ­¥å†™æ³•å¼‚æ­¥æ‰§è¡Œ<br>æ¨¡å—åŒ–</p>
</blockquote>
<blockquote>
<p>[11]ç”¨è¿‡å“ªäº›è®¾è®¡æ¨¡å¼<br>å•ä¾‹<br>å·¥å‚<br>ä»£ç†<br>è§‚å¯Ÿè€…<br>ç•¥ï¼Œæš‚æ—¶ä¸å±•å¼€</p>
</blockquote>
<blockquote>
<p>[12]TSè·ŸJSæœ‰ä»€ä¹ˆåŒºåˆ«<br>TSä¸ºJSè¶…é›†ã€å¯ä»¥è®¤ä¸ºæ˜¯JSæœªæ¥å‘å±•çš„è¶‹åŠ¿ã€éµå¾ªçš„æ–°ä¸€ä»£ECMAè§„èŒƒ<br>å¢åŠ é™æ€ç±»å‹æ£€æŸ¥ã€æ›´åŠ ä¸¥è°¨</p>
</blockquote>
<blockquote>
<p>[13]å¦‚ä½•å®ç°æ·±æµ…æ‹·è´<br>æµ…æ‹·è´:Object.assign()ã€å±•å¼€è¿ç®—ç¬¦<br>æ·±æ‹·è´:JSON.parse(JSON.stringify()),lodash(_.cloneDeep())</p>
</blockquote>
<blockquote>
<p>[14]è°ˆè°ˆå¯¹JSè¿è¡Œæœºåˆ¶å’ŒeventLoopçš„ç†è§£<br>JSè‡ªå§‹è‡³ç»ˆæ˜¯ä¸€ä¸ªå•çº¿ç¨‹ï¼ŒåŒä¸€æ—¶é—´åªèƒ½åšä¸€ä»¶äº‹<br>eventLoopå³äº‹ä»¶è½®è¯¢ã€å®ä»»åŠ¡/å¾®ä»»åŠ¡<br>æ‰§è¡Œæ ˆä¸­ä¼˜å…ˆæ‰§è¡Œå®ä»»åŠ¡ã€åœ¨ç©ºé—²æ—¶æ‰§è¡Œå¾®ä»»åŠ¡(requestIdleCallbackã€react16ä¸­fiberæ¶æ„ä¹Ÿç”¨çš„è¿™ä¸ªapi)</p>
</blockquote>
<blockquote>
<p>[15]è°ˆä¸€è°ˆå¯¹JSå¼‚æ­¥çš„ç†è§£<br>ä»£ç ä¸æ˜“è¯»ã€ä½†é¿å…äº†å›è°ƒåœ°ç‹±<br>å‡ ç§è§£å†³æ–¹æ¡ˆ:<br>jQuery Deferred<br>Promise<br>async/await<br>Generator</p>
</blockquote>
<h1 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h1><blockquote>
<p>[1]æè¿°ä¸‹ä»æµè§ˆå™¨åœ°å€è¾“å…¥urlåˆ°æ˜¾ç¤ºé¡µé¢çš„æ•´ä¸ªè¿‡ç¨‹<br>DNSè§£æï¼Œå°†åŸŸåè½¬ipå¹¶å‘ä¸ŠæŸ¥æ‰¾æœåŠ¡å™¨ï¼Œä¸­é—´å¯ä»¥åšDNSå¤šçº§ç¼“å­˜ï¼ˆè´Ÿè½½å‡è¡¡ï¼‰<br>é€šè¿‡ipå‘æœåŠ¡å™¨å‘èµ·TCPè¿æ¥ï¼Œä¸‰æ¬¡æ¡æ‰‹<br>å‘é€HTTPè¯·æ±‚ï¼Œè¯·æ±‚æŠ¥æ–‡ï¼ˆè¯·æ±‚è¡Œã€è¯·æ±‚å¤´ã€ç©ºè¡Œã€è¯·æ±‚ä½“ï¼‰<br>æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å›HTTPæŠ¥æ–‡ï¼Œå“åº”æŠ¥æ–‡ï¼ˆå“åº”è¡Œã€å“åº”å¤´ã€ç©ºè¡Œã€å“åº”ä½“ï¼‰<br>ï¼ˆPS:httpç¼“å­˜ï¼Œä»å“åº”å¤´/è¯·æ±‚å¤´ä¸­å¯ä»¥å¾—å‡ºlast-Modify/if-Modify-sinceã€ETag/if-None-Matchã€Cache-Control/Expiresï¼‰<br>æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢ï¼Œè¿™é‡Œè¿›è¡Œrenderæ ‘çš„æ„å»ºï¼Œdomæ ‘-&gt;cssæ ‘-&gt;layout/reflow(è®¡ç®—)-&gt;Painting<br>è¿æ¥ç»“æŸï¼Œå››æ¬¡æŒ¥æ‰‹</p>
</blockquote>
<blockquote>
<p>[2]è°ˆcookieã€localStorageã€sessionStorageåŒºåˆ«<br>cookieä¼šåœ¨httpè¯·æ±‚ä¸­æºå¸¦ï¼Œä¼šåœ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é—´ä¼ é€’ï¼Œæ‰€ä»¥cookieä¼šæœ‰å¤§å°é™åˆ¶ï¼Œä¸èƒ½è¶…è¿‡4kï¼Œè€Œä¸”å­˜åœ¨åœ¨è®¾å®šçš„pathä¸‹<br>sessionStorageå’ŒlocalStorageåªä¼šå­˜åœ¨æœ¬åœ°ï¼Œå¤§å°è¦æ¯”cookieå¤§ï¼Œå…¶ä¸­sessionStorageæ˜¯ä»…åœ¨å½“å‰çš„ä¼šè¯çª—å£æœ‰æ•ˆï¼Œä¸æ˜¯æ‰€æœ‰çª—å£éƒ½å¯ä»¥å…±äº«æ•°æ®çš„ã€‚å…¶å®ƒä¸¤ä¸ªæ˜¯çœŸä¸ªæµè§ˆå™¨éƒ½å¯ä»¥æ•°æ®å…±äº«</p>
</blockquote>
<blockquote>
<p>[3]å¯¹æ€§èƒ½ä¼˜åŒ–çŸ¥é“å“ªäº›<br>ç½‘ç»œå±‚ï¼Œå‡å°‘è¯·æ±‚ï¼ˆåˆå¹¶js/cssã€é›ªç¢§å›¾ã€base64å›¾ç‰‡ï¼‰ã€å‹ç¼©ä½“ç§¯ï¼ˆjs/csså‹ç¼©ã€gzipï¼‰ã€åšç¼“å­˜ï¼ˆDNSç¼“å­˜ã€CDNé¢„è§£æã€httpç¼“å­˜ï¼‰<br>æ¸²æŸ“å±‚ï¼Œç»“æ„å°½é‡æ‰å¹³åŒ–ã€DOMä¼˜åŒ–ï¼ˆäº‹ä»¶ä»£ç†ï¼‰ã€é¿å…é‡æ’é‡ç»˜</p>
</blockquote>
<blockquote>
<p>[4]å¯¹å®‰å…¨æ€§çš„ç†è§£<br>XSSé˜²æ­¢è„šæœ¬æ³¨å…¥ï¼ŒåŠ å…¥ä¸€äº›è½¬è¯‘<br>CSRFé˜²æ­¢è¯·æ±‚ä¼ªé€ ï¼ŒåŠ å…¥hash/tokenéªŒè¯ç­‰<br>å¯†ç åŠ ç›</p>
</blockquote>
<blockquote>
<p>[5]å…³äºHTTPåè®®ç±»<br>çŠ¶æ€ç <br>httpç¼“å­˜<br>ç®¡çº¿åŒ–<br>æŒä¹…è¿æ¥</p>
</blockquote>
<blockquote>
<p>[6]è°ˆä¸€è°ˆå¯¹äº‹ä»¶æœºåˆ¶çš„ç†è§£<br>æ•è·å†’æ³¡ï¼Œwindow<->document<->html<->body<->elem<br>event.preventDefault()é˜»æ­¢é»˜è®¤äº‹ä»¶<br>event.stopPropagation()é˜»æ­¢å†’æ³¡ï¼ˆé˜²æ­¢çˆ¶çº§å…ƒç´ å“åº”ï¼‰<br>event.stopImmediatePropagation()æ³¨å†Œä¸¤ä¸ªäº‹ä»¶ï¼Œa,b;åœ¨aä¸­åŠ è¯¥äº‹ä»¶ï¼Œå¯é˜»æ­¢bçš„æ³¨å†Œäº‹ä»¶è§¦å‘<br>event.currentTargetäº‹ä»¶å§”æ‰˜ï¼Œç¯å½¢äº‹ä»¶æ³¨å†Œï¼Œå°†å­å…ƒç´ ä»£ç†åˆ°çˆ¶å…ƒç´ çš„äº‹ä»¶ä¸Šï¼Œå½“è§¦å‘æ—¶éœ€è¦è·å–å½“å‰ç»‘å®šçš„äº‹ä»¶çš„å¯¹è±¡ï¼ˆçˆ¶çº§å…ƒç´ ï¼‰<br>event.target//IE ä¸­event.sourceElement<br>è·å–å½“å‰è§¦å‘çš„ç›®æ ‡å¯¹è±¡(å­çº§å…ƒç´ ï¼‰<br>DOM0(onclick)ã€DOM2(addEventLisener(â€˜clickâ€™),trueæ•è·/falseå†’æ³¡)ã€DOM3(addEventLisener(â€˜keyupâ€™))<br>è‡ªå®šä¹‰äº‹ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let eve = new Event(&apos;custom&apos;)/CustomEvent(&apos;custom&apos;,params)</span><br><span class="line">$(&apos;div&apos;).addEventLisener(&apos;custom&apos;,()=&gt;&#123;&#125;)</span><br><span class="line">$(&apos;div&apos;).dispatchEvent(eve)</span><br></pre></td></tr></table></figure></-></-></-></-></p>
</blockquote>
<blockquote>
<p>[7]å¦‚ä½•ç®¡ç†è·¯ç”±<br>hashæ¨¡å¼<br>historyæ¨¡å¼<br>ç•¥</p>
</blockquote>
<h1 id="æ¡†æ¶"><a href="#æ¡†æ¶" class="headerlink" title="æ¡†æ¶"></a>æ¡†æ¶</h1><blockquote>
<p>[1]è°ˆä¸€è°ˆå¯¹MVVMçš„ç†è§£<br>MVCä¸MVVM<br>è®¾è®¡æ¨¡å¼ä¸ºè§‚å¯Ÿè€…æ¨¡å¼<br>è¿™é‡Œçš„ViewModleå°±æ˜¯data-&gt;Observerã€Depã€Watcher-&gt;view<br>ï¼ˆè¿™é‡Œä»¥Vueä¸¾ä¾‹å­ï¼‰è®²ä¸‰è¦ç´ <br>å“åº”å¼åŸç†ï¼ŒObject.definePropertyå’ŒProxy/Reflect<br>æ¨¡ç‰ˆå¼•æ“ï¼Œå°±æ˜¯å°†æ¨¡ç‰ˆå­—ç¬¦ä¸²è½¬åŒ–ä¸ºJSå¯¹è±¡<br>renderå‡½æ•°è´Ÿè´£æ¸²æŸ“å·®å¼‚ï¼ˆè¿™é‡Œæœ‰ä¸€diffç®—æ³•ï¼Œæ¯”è¾ƒå‰åå¸§çš„å·®å¼‚ï¼‰</p>
</blockquote>
<blockquote>
<p>[2]å¦‚ä½•è¿›è¡ŒæœåŠ¡ç«¯æ¸²æŸ“SSRï¼ˆå¯¹SEOçš„ç†è§£ï¼‰<br>ä¸SPAå•é¡µåº”ç”¨å¯¹æ¯”ï¼Œæ›´å‹å¥½çš„SEOã€å†…å®¹æ›´å¿«åˆ°è¾¾<br>éƒ¨ç½²çš„æœåŠ¡å™¨éœ€è¦å¤„äºNode serverç¯å¢ƒä¸‹ï¼Œä¼šå ç”¨æ›´å¤šCPUèµ„æº<br>åœ¨nuxtå†…éƒ¨çš„æ•´ä¸ªæ‰§è¡Œæµç¨‹ä¸­ï¼Œæœ€å…ˆç»è¿‡çš„æ˜¯çŠ¶æ€ç®¡ç†ä¸­actionsä¸­çš„nuxtServerInitå‡½æ•°<br>ç„¶åä¼šç»è¿‡middlewareé‡Œçš„ä¸­é—´ä»¶å‡½æ•°ï¼Œæ­¤æ—¶ï¼Œè¿˜æ²¡æœ‰è¿›è¡Œæ•°æ®è·å–å’Œé¡µé¢æ¸²æŸ“ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ä¸­é—´ä»¶å‡½æ•°ä¸­æ‰§è¡Œä¸€äº›è¿›å…¥è·¯ç”±å‰çš„é€»è¾‘ï¼Œæ¯”å¦‚ç”¨æˆ·æƒé™åˆ¤æ–­<br>ä¹‹åå¼€å§‹è·å–é¡µé¢æ•°æ®ï¼ŒasyncDataå’Œdataçš„ç»“æœåŸºæœ¬ç›¸åŒï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è°ƒç”¨serverçš„æ¥å£ï¼Œæ¯”å¦‚ç†ç”±axioså‘é€httpè¯·æ±‚è·å–é¡µé¢æ‰€éœ€çš„åŸå§‹æ•°æ®ï¼Œç„¶åä»¥å¯¹è±¡çš„å½¢å¼returnå‡ºå»ï¼Œæ­¤æ—¶ï¼ŒVueå¯¹è±¡è¿˜æ²¡æœ‰å®ä¾‹åŒ–ï¼Œæ‰€ä»¥asyncDataé‡Œæ— æ³•è°ƒç”¨åˆ°this<br>fetché‡Œä¸»è¦ç”¨ä½œå¡«å……çŠ¶æ€æ ‘ï¼ˆstoreï¼‰æ•°æ®ï¼Œnuxtä¸­é¡µé¢ä¸€æ—¦è·³è½¬ï¼Œæ•´ä¸ªvuexçŠ¶æ€æ ‘å°±ä¼šè¢«é‡ç½®ï¼Œè¿™ç›¸å½“äºä¸åŒé¡µé¢ä¸‹vuexç‹¬ç«‹ï¼Œnuxtæä¾›äº†ä¸€ä¸ªapiï¼ŒnuxtServerInitï¼Œå¯ä»¥ä¼ å…¥ä¸¤ä¸ªå‚æ•°å¯¹è±¡ï¼Œcommitã€reqï¼Œè¿™æ ·storeä¸­å°±æœ‰äº†ç”¨æˆ·é‰´æƒçš„ä¿¡æ¯<br>è¿™äº›å…¨éƒ¨åšå®Œä»¥åï¼Œå¼€å§‹å®ä¾‹åŒ–Vueå¯¹è±¡ï¼Œè¿™é‡Œçš„é€»è¾‘å’Œå•é¡µåº”ç”¨æ˜¯ä¸€æ ·çš„ï¼Œåœ¨ç»„è£…å¥½æ•´ä¸ªé¡µé¢åº”ç”¨ä¹‹åï¼Œnuxt.jsä¼šå°†è¿™ä¸ªåº”ç”¨è¿”å›è‡³å‰ç«¯ã€‚æ³¨æ„ï¼Œè¿™é‡Œè¿”å›çš„ä¸æ˜¯å•çº¯çš„é¡µé¢ï¼Œè€Œæ˜¯åº”ç”¨ã€‚æ­¤æ—¶çš„é¡µé¢å±€éƒ¨spaåº”ç”¨çš„ä¸€äº›æ€§è´¨ï¼Œæ¯”å¦‚æ•°æ®ç›‘å¬åŒå‘ç»‘å®š<br>é¡µé¢æ¥åˆ°å‰ç«¯åï¼Œå¼€å§‹æ‰§è¡Œmountçš„ç›¸å…³é€»è¾‘</p>
</blockquote>
<blockquote>
<p>[3]å¯¹æŸæ¡†æ¶æºç æœ‰è¿‡äº†è§£æ²¡ï¼ˆé—®æ¡†æ¶åŸç†ï¼‰<br><a href="https://c-yyy.github.io/2018/12/30/React-stack/">200è¡Œå®ç°ä¸€ä¸ªç®€æ˜“çš„React</a></p>
</blockquote>
<blockquote>
<p>[4]è¯´ä¸€è¯´å¯¹ç»„ä»¶åŒ–ã€æ¨¡å—åŒ–å¼€å‘çš„ç†è§£<br>é«˜å†…èšã€ä½è€¦åˆ<br>æé«˜ä»£ç å¤ç”¨ç‡ã€é™ä½ä»£ç è€¦åˆæ€§</p>
</blockquote>
<blockquote>
<p>[5]äº†è§£Vuex/Reduxå—<br>Vuexï¼Œç»´æŠ¤ä¸€ä¸ªstore</p>
</blockquote>
<blockquote>
<p>[6]å‚ä¸è¿‡ä¸Šçº¿/å›æ»šæ•´å¥—æµç¨‹å—<br>4ä¸ªç¯å¢ƒï¼Œå¼€å‘ã€æµ‹è¯•ã€é¢„å‘å¸ƒã€çº¿ä¸Š<br>2ä¸ªåˆ†æ”¯ï¼Œæ–°éœ€æ±‚å¼€å‘åˆ†æ”¯ã€ç¨³å®šç‰ˆä¿®å¤bugåˆ†æ”¯</p>
</blockquote>
<h1 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h1><blockquote>
<p>[1]ç”¨è¿‡ä»€ä¹ˆæ‰“åŒ…å·¥å…·<br>rollupï¼ŒJSæ¨¡å—æ‰“åŒ…å·¥å…·<br>Webpackï¼Œé¡¹ç›®æ‰“åŒ…æ„å»ºå·¥å…·</p>
</blockquote>
<blockquote>
<p>[2]å¦‚ä½•ç®¡ç†é¡¹ç›®<br>git</p>
</blockquote>
<blockquote>
<p>[3]å¯¹é¡¹ç›®æ¶æ„æ–¹é¢æœ‰ä»€ä¹ˆçœ‹æ³•<br>æš‚ç•¥</p>
</blockquote>
<h1 id="Nodejs"><a href="#Nodejs" class="headerlink" title="Nodejs"></a>Nodejs</h1>
	
	</div>
  <a type="button" href="/2019/01/04/answer-forU/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2019/01/04/question-forU/" title="é¢è¯•å¤ä¹ -é—®é¢˜ç‰ˆï¼ˆå»ºè®®æ‰¾å°ä¼™ä¼´ä¸€é—®ä¸€ç­”ï¼‰">ã€#2019é¢è¯•å‡†å¤‡ã€‘é—®é¢˜ç‰ˆ</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2019-01-04  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="HTMLã€CSS"><a href="#HTMLã€CSS" class="headerlink" title="HTMLã€CSS"></a>HTMLã€CSS</h1><ul>
<li>[1]è¯´å‡ ä¸ªå…³äºHTML5å’ŒCSS3çš„æ–°ç‰¹æ€§</li>
<li>[2]é¡µé¢å¸ƒå±€çš„å‡ ç§è§£å†³æ–¹æ¡ˆåŠä¼˜ç¼ºç‚¹</li>
<li>[3]è°ˆä¸€è°ˆCSSç›’æ¨¡å‹</li>
<li>[4]å¯¹åˆ›å»ºå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡çš„ç†è§£</li>
<li>[5]CSSé€‰æ‹©å™¨æƒé‡è®¡ç®—</li>
</ul>
<h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><ul>
<li>[1]JSæœ‰å“ªäº›å˜é‡ç±»å‹å’Œå†…ç½®å¯¹è±¡</li>
<li>[2]å¯¹ä½œç”¨åŸŸé“¾çš„ç†è§£</li>
<li>[3]è°ˆä¸€è°ˆé—­åŒ…ã€å¦‚ä½•åˆ›å»ºä¸€ä¸ªé—­åŒ…</li>
<li>[4]å¯¹åŸå‹é“¾çš„ç†è§£</li>
<li>[5]JSä¸­å¦‚ä½•å®ç°ç»§æ‰¿</li>
<li>[6]newæ“ä½œç¬¦å…·ä½“åšäº†ä»€ä¹ˆ</li>
<li>[7]JSä¸­thisæ€ä¹ˆç”¨</li>
<li>[8]è¯´ä¸€è¯´ajaxçš„è¿‡ç¨‹</li>
<li>[9]ä»€ä¹ˆæ˜¯è·¨åŸŸå¦‚ä½•è§£å†³åŠæ¯ä¸ªæ–¹æ¡ˆçš„ä¼˜ç¼ºç‚¹</li>
<li>[10]è°ˆè°ˆä½ å¯¹ES6çš„ç†è§£</li>
<li>[11]ç”¨è¿‡å“ªäº›è®¾è®¡æ¨¡å¼</li>
<li>[12]TypeScriptè·ŸJSæœ‰ä»€ä¹ˆåŒºåˆ«</li>
<li>[13]å¦‚ä½•å®ç°æ·±æµ…æ‹·è´</li>
<li>[14]è°ˆè°ˆå¯¹JSè¿è¡Œæœºåˆ¶å’ŒeventLoopçš„ç†è§£</li>
<li>[15]è°ˆä¸€è°ˆå¯¹JSå¼‚æ­¥çš„ç†è§£</li>
</ul>
<h1 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h1><ul>
<li>[1]æè¿°ä¸‹ä»æµè§ˆå™¨åœ°å€è¾“å…¥urlåˆ°æ˜¾ç¤ºé¡µé¢çš„æ•´ä¸ªè¿‡ç¨‹</li>
<li>[2]è°ˆcookieã€localStorageã€sessionStorageåŒºåˆ«</li>
<li>[3]å¯¹æ€§èƒ½ä¼˜åŒ–çŸ¥é“å“ªäº›</li>
<li>[4]å¯¹å®‰å…¨æ€§çš„ç†è§£</li>
<li>[5]å…³äºHTTPåè®®ç±»</li>
<li>[6]è°ˆä¸€è°ˆå¯¹äº‹ä»¶æœºåˆ¶çš„ç†è§£</li>
<li>[7]å¦‚ä½•ç®¡ç†è·¯ç”±</li>
</ul>
<h1 id="æ¡†æ¶"><a href="#æ¡†æ¶" class="headerlink" title="æ¡†æ¶"></a>æ¡†æ¶</h1><ul>
<li>[1]è°ˆä¸€è°ˆå¯¹MVVMçš„ç†è§£</li>
<li>[2]å¦‚ä½•è¿›è¡ŒæœåŠ¡ç«¯æ¸²æŸ“SSRï¼ˆå¯¹SEOçš„ç†è§£ï¼‰</li>
<li>[3]å¯¹æŸæ¡†æ¶æºç æœ‰è¿‡äº†è§£æ²¡ï¼ˆé—®æ¡†æ¶åŸç†ï¼‰</li>
<li>[4]è¯´ä¸€è¯´å¯¹ç»„ä»¶åŒ–ã€æ¨¡å—åŒ–å¼€å‘çš„ç†è§£</li>
<li>[5]äº†è§£Vuex/Reduxå—</li>
<li>[6]å‚ä¸è¿‡ä¸Šçº¿/å›æ»šæ•´å¥—æµç¨‹å—</li>
</ul>
<h1 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h1><ul>
<li>[1]ç”¨è¿‡ä»€ä¹ˆæ‰“åŒ…å·¥å…·</li>
<li>[2]å¦‚ä½•ç®¡ç†é¡¹ç›®</li>
<li>[3]å¯¹é¡¹ç›®æ¶æ„æ–¹é¢æœ‰ä»€ä¹ˆçœ‹æ³•</li>
</ul>
<h1 id="Nodejs"><a href="#Nodejs" class="headerlink" title="Nodejs"></a>Nodejs</h1>
	
	</div>
  <a type="button" href="/2019/01/04/question-forU/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2019/01/02/2019interview/" title="é¢è¯•çŸ¥è¯†ç‚¹æ¢³ç†">ã€#2019é¢è¯•å‡†å¤‡ã€‘çŸ¥è¯†ç‚¹æ¢³ç†</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2019-01-02  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="æŠ€æœ¯"><a href="#æŠ€æœ¯" class="headerlink" title="æŠ€æœ¯"></a>æŠ€æœ¯</h1><ul>
<li><p>JSåŸºç¡€</p>
<ul>
<li><p>å˜é‡ç±»å‹<br>Stringã€Numberã€Booleanã€nullã€undefinedã€Symbol<br>typeofã€instanceof<br>æ“ä½œè¿ç®—ç¬¦</p>
</li>
<li><p>ä½œç”¨åŸŸ<br>æ‰§è¡Œä¸Šä¸‹æ–‡ã€è‡ªç”±å˜é‡çš„å‘ä¸ŠæŸ¥æ‰¾</p>
</li>
<li><p>æ·±æµ…æ‹·è´<br>Object.assign()ã€å±•å¼€è¿ç®—ç¬¦<br>JSON.parse(JSON.stringify()),lodash(_.cloneDeep())</p>
</li>
<li><p>this<br>newä¸€ä¸ªå¯¹è±¡è¿‡ç¨‹<br>æŒ‡å‘æœ€åè°ƒç”¨çš„é‚£ä¸ªå¯¹è±¡<br>ç®­å¤´å‡½æ•°(é»˜è®¤æŒ‡å‘å…¶ç¬¬ä¸€ä¸ªçˆ¶çº§å¯¹è±¡)<br>call(å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°åˆ—è¡¨)ã€apply(åªæ¥å—ä¸€ä¸ªå‚æ•°æ•°ç»„)ã€bind(è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°)</p>
</li>
<li><p>åŸå‹<br>å®ä¾‹å¯¹è±¡çš„<strong>proto</strong>æŒ‡å‘å…¶æ„é€ å‡½æ•°çš„prototype<br>instanceofåˆ¤æ–­ä¸€ä¸ªå‡½æ•°æ˜¯å¦æ˜¯ä¸€ä¸ªå˜é‡çš„æ„é€ å‡½æ•°</p>
</li>
<li><p>é—­åŒ…<br>å‡½æ•°çˆ¶çº§ä½œç”¨åŸŸåœ¨å®šä¹‰æ—¶éæ‰§è¡Œæ—¶<br>å°è£…å˜é‡æ”¶æ•›ä¿®æ”¹æƒé™ï¼Œå˜é‡å§‹ç»ˆä¿å­˜åœ¨å†…å­˜ä¸­å¯ä¾›å…¶ä»–å‡½æ•°è®¿é—®<br>åšå‡½æ•°è¿”å›å€¼ã€åšå‡½æ•°å‚æ•°ä¼ é€’<br>åƒåœ¾å›æ”¶GCï¼ˆæ ‡è®°æ¸…é™¤ã€å¼•ç”¨è®¡æ•°ã€ScavengeGC(From-&gt;To)ï¼‰</p>
</li>
<li><p>ç»§æ‰¿<br>åŸå‹é“¾ç»§æ‰¿ï¼Œç±»å®ä¾‹æŒ‡å‘prototype<br>classç±»extends</p>
</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>å¼‚æ­¥<ul>
<li>å•çº¿ç¨‹</li>
<li>eventLoopï¼ˆå®ä»»åŠ¡ã€å¾®ä»»åŠ¡ã€æ‰§è¡Œæ ˆï¼‰</li>
<li>jq-deferred -&gt; Promise/Generator -&gt; async/await</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>æµè§ˆå™¨<ul>
<li>äº‹ä»¶æœºåˆ¶</li>
<li>è·¨åŸŸ</li>
<li>ç¼“å­˜</li>
<li>æ¸²æŸ“ï¼ˆrepaint/reflowï¼‰</li>
<li>è·¯ç”±åŸç†hashæ¨¡å¼ã€historyæ¨¡å¼</li>
<li>æ€§èƒ½ç›‘æ§</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li><p>æ¡†æ¶</p>
<ul>
<li><p>ä¸‰è¦ç´ <br>å“åº”å¼åŸç†Object.definePropertyã€Proxy<br>æ¨¡ç‰ˆå¼•æ“ï¼ˆæ¨¡ç‰ˆå­—ç¬¦ä¸²-&gt;jså¯¹è±¡ï¼‰<br>æ¸²æŸ“renderå‡½æ•°ï¼ˆdiffåæ¸²æŸ“å·®å¼‚ï¼‰</p>
</li>
<li><p>React<br>Redux<br>Nextjs</p>
</li>
<li><p>Vue<br>Vuex<br>Nuxtjs</p>
</li>
<li><p>Angluar<br>æ¨¡ç‰ˆ@Input()ã€@Output()<br>ViewChildã€ElementRef<br>rxjs</p>
</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>å°ç¨‹åº<ul>
<li>wepy</li>
<li>taro</li>
<li>å°æ¸¸æˆå¼•æ“</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>å·¥å…·è‡ªåŠ¨åŒ–<ul>
<li>git</li>
<li>rollupã€webpack</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>Nodejs</li>
</ul>
<hr>
<ul>
<li>é€šè®¯<ul>
<li>HTTP2</li>
<li>hybrid</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>å®‰å…¨<ul>
<li>XSSã€CSRF</li>
<li>å¯†ç åŠ ç›</li>
</ul>
</li>
</ul>
<hr>
<h1 id="æŠ€å·§"><a href="#æŠ€å·§" class="headerlink" title="æŠ€å·§"></a>æŠ€å·§</h1><ul>
<li>ç®€å†</li>
<li>è¯æœ¯</li>
</ul>

	
	</div>
  <a type="button" href="/2019/01/02/2019interview/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2018/12/31/React16-fiber/" title="ä½¿ç”¨fiberæ¶æ„é‡æ„Reactæ€»ç»“æ€è€ƒ">React16-fiber</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2018-12-31  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="fiberæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#fiberæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="fiberæ˜¯ä»€ä¹ˆï¼Ÿ"></a>fiberæ˜¯ä»€ä¹ˆï¼Ÿ</h1><ul>
<li>React16ä¸­å¯¹diffç®—æ³•çš„é‡æ„</li>
<li>ç”±stackæ¶æ„ï¼ˆé€’å½’è°ƒç”¨é˜»å¡çº¿ç¨‹ï¼‰è½¬ä¸ºfiberæ¶æ„</li>
</ul>
<h1 id="ä¸ºä»€ä¹ˆfiberï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆfiberï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆfiberï¼Ÿ"></a>ä¸ºä»€ä¹ˆfiberï¼Ÿ</h1><ul>
<li>æ¨ªå‘å¯¹æ¯”stackæ¶æ„</li>
<li>è°ƒåº¦å¾®ä»»åŠ¡ï¼Œåˆ©ç”¨ç©ºé—²æœŸæ‰§è¡Œå›è°ƒ</li>
<li>ä½¿diffç®—æ³•å¯æ§å¯è¿½è¸ªï¼ˆè¾¾åˆ°éé˜»å¡ç›®çš„ï¼‰</li>
</ul>
<h1 id="æ€æ ·å®ç°fiberï¼Ÿ"><a href="#æ€æ ·å®ç°fiberï¼Ÿ" class="headerlink" title="æ€æ ·å®ç°fiberï¼Ÿ"></a>æ€æ ·å®ç°fiberï¼Ÿ</h1><ul>
<li><p>çº¤ç»´åŒ–ï¼ˆçº¤ç»´é˜Ÿåˆ—ï¼‰<br>æˆ‘ä»¬éœ€è¦å°†å·¥ä½œåˆ†æˆæ›´å°çš„éƒ¨åˆ†ï¼Œå¹¶ä½¿ä¹‹èƒ½åœ¨çŸ­æ—¶é—´å†…è¿è¡Œï¼Œè®©ä¸»çº¿ç¨‹åšæ›´é«˜ä¼˜å…ˆçº§çš„äº‹æƒ…<br>å¦‚æœçº¿ç¨‹ç©ºé—²ï¼Œé‚£ä¹ˆå›åˆ°çº¤ç»´é˜Ÿåˆ—</p>
</li>
<li><p>fiberå¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let fiber = &#123;</span><br><span class="line">  tag: HOST_ROOT||HOST_COMPONENT||CLASS_COMPONENT,</span><br><span class="line">  type: &quot;div&quot;||Foo,</span><br><span class="line">  parent: parentFiber,</span><br><span class="line">  child: childFiber,</span><br><span class="line">  sibling: null,</span><br><span class="line">  alternate: currentFiber,</span><br><span class="line">  stateNode: document.createElement(&quot;div&quot;), // instance</span><br><span class="line">  props: &#123; children: [], className: &quot;foo&quot;&#125;,</span><br><span class="line">  partialState: null,</span><br><span class="line">  effectTag: PLACEMENT,</span><br><span class="line">  effects: []</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>window.requestIdleCallback()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">const ENOUGH_TIME = 1 //æ¯«ç§’ms</span><br><span class="line">let workQueue = [] // çº¤ç»´é˜Ÿåˆ—</span><br><span class="line">let nextUnitOfWork = null</span><br><span class="line"></span><br><span class="line">function schedule(task) &#123;</span><br><span class="line">  workQueue.push(task)</span><br><span class="line">  requestIdleCallback(performWork)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function performWork(deadline) &#123;</span><br><span class="line">  if(!nextUnitOfWork) &#123;</span><br><span class="line">    nextUnitOfWork = workQueue.shift()</span><br><span class="line">  &#125;</span><br><span class="line">  while(nextUnitOfWork &amp;&amp; deadline.timeRemaining()&gt;ENOUGH_TIME) &#123;</span><br><span class="line">    nextUnitOfWork = performUnitOfWork(nextUnitOfWork) // æ‰§è¡Œå½“å‰workå¹¶è¿”å›ä¸‹æ¬¡workçš„æ‰€æœ‰ä¿¡æ¯</span><br><span class="line">  &#125;</span><br><span class="line">  if(nextUnitOfWork || workQueue.length &gt; 0) &#123;</span><br><span class="line">    requestIdleCallback(performWork)</span><br><span class="line">  &#125;</span><br><span class="line">  if(pendingCommit) &#123;</span><br><span class="line">    commitAllWork(pendingCommit);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>çº¤ç»´é˜Ÿåˆ—</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">/ Fiber tags</span><br><span class="line">const HOST_COMPONENT = &quot;host&quot;</span><br><span class="line">const CLASS_COMPONENT = &quot;class&quot;</span><br><span class="line">const HOST_ROOT = &quot;root&quot;</span><br><span class="line"></span><br><span class="line">// Global state</span><br><span class="line">const updateQueue = [] // å­˜å‚¨ç­‰å¾…æ›´æ–°</span><br><span class="line">let nextUnitOfWork = null</span><br><span class="line">let pendingCommit = null</span><br><span class="line"></span><br><span class="line">function render(elements, containerDom) &#123;</span><br><span class="line">  updateQueue.push(&#123;</span><br><span class="line">    from: HOST_ROOT,</span><br><span class="line">    dom: containerDom,</span><br><span class="line">    newProps: &#123; children: elements &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  requestIdleCallback(performWork)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function scheduleUpdate(instance, partialState) &#123;</span><br><span class="line">  updateQueue.push(&#123;</span><br><span class="line">    from: CLASS_COMPONENT,</span><br><span class="line">    instance: instance,</span><br><span class="line">    partialState: partialState</span><br><span class="line">  &#125;)</span><br><span class="line">  requestIdleCallback(performWork)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æé—®rootèŠ‚ç‚¹ä½œä¸ºç¬¬ä¸€å¸§å¦‚ä½•è½¬æ¢æˆnextUnitOfWork<br>ç­”æ¡ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">function resetNextUnitOfWork() &#123;</span><br><span class="line">  const update = updateQueue.shift();</span><br><span class="line">  if (!update) &#123;</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // å°†setStateå‚æ•°ä»æ›´æ–°æœ‰æ•ˆå†…å®¹å¤åˆ¶åˆ°ç›¸åº”çš„å…‰çº¤</span><br><span class="line">  if (update.partialState) &#123;</span><br><span class="line">    update.instance.__fiber.partialState = update.partialState</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  const root =</span><br><span class="line">    update.from == HOST_ROOT</span><br><span class="line">      ? update.dom._rootContainerFiber</span><br><span class="line">      : getRoot(update.instance.__fiber)</span><br><span class="line"></span><br><span class="line">  nextUnitOfWork = &#123;</span><br><span class="line">    tag: HOST_ROOT,</span><br><span class="line">    stateNode: update.dom || root.stateNode,</span><br><span class="line">    props: update.newProps || root.props,</span><br><span class="line">    alternate: root</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getRoot(fiber) &#123;</span><br><span class="line">  let node = fiber</span><br><span class="line">  while (node.parent) &#123;</span><br><span class="line">    node = node.parent</span><br><span class="line">  &#125;</span><br><span class="line">  return node</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>æé—®å¦‚ä½•æ„é€ åç»­å¸§å¹¶ç”ŸæˆfiberTreeğŸŒ²ï¼Ÿ<br>ç­”æ¡ˆï¼š<br><code>å…ˆå¤„ç†å¶å­èŠ‚ç‚¹ï¼Œç„¶åæ˜¯å…¶å…„å¼ŸèŠ‚ç‚¹ï¼Œç„¶åæ˜¯åŒäº²èŠ‚ç‚¹ï¼Œä»ä¸‹å¾€ä¸Šéå†</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function performUnitOfWork(wipFiber) &#123;</span><br><span class="line">  beginWork(wipFiber)</span><br><span class="line">  if (wipFiber.child) &#123;</span><br><span class="line">    return wipFiber.child</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // éå†ï¼Œç›´åˆ°æ²¡æœ‰child</span><br><span class="line">  let uow = wipFiber</span><br><span class="line">  while (uow) &#123;</span><br><span class="line">    completeWork(uow)</span><br><span class="line">    if (uow.sibling) &#123;</span><br><span class="line">      // Sibling needs to beginWork</span><br><span class="line">      return uow.sibling</span><br><span class="line">    &#125;</span><br><span class="line">    uow = uow.parent</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>fiberæµç¨‹å›¾<br><img src="../../public/img/fiber.png" alt="fiberæµç¨‹å›¾"></p>
</li>
<li><p>å¤„ç†æ›´æ–°ç»„ä»¶propså’Œstate</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">function beginWork(wipFiber) &#123;</span><br><span class="line">  if (wipFiber.tag == CLASS_COMPONENT) &#123;</span><br><span class="line">    updateClassComponent(wipFiber);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    updateHostComponent(wipFiber);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function updateHostComponent(wipFiber) &#123;</span><br><span class="line">  if (!wipFiber.stateNode) &#123;</span><br><span class="line">    wipFiber.stateNode = createDomElement(wipFiber);</span><br><span class="line">  &#125;</span><br><span class="line">  const newChildElements = wipFiber.props.children;</span><br><span class="line">  reconcileChildrenArray(wipFiber, newChildElements);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function updateClassComponent(wipFiber) &#123;</span><br><span class="line">  let instance = wipFiber.stateNode;</span><br><span class="line">  if (instance == null) &#123;</span><br><span class="line">    // Call class constructor</span><br><span class="line">    instance = wipFiber.stateNode = createInstance(wipFiber);</span><br><span class="line">  &#125; else if (wipFiber.props == instance.props &amp;&amp; !wipFiber.partialState) &#123;</span><br><span class="line">    // No need to render, clone children from last time</span><br><span class="line">    cloneChildFibers(wipFiber);</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  instance.props = wipFiber.props;</span><br><span class="line">  instance.state = Object.assign(&#123;&#125;, instance.state, wipFiber.partialState);</span><br><span class="line">  wipFiber.partialState = null;</span><br><span class="line"></span><br><span class="line">  const newChildElements = wipFiber.stateNode.render();</span><br><span class="line">  reconcileChildrenArray(wipFiber, newChildElements);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¼€å§‹diffï¼Œå°†oldFiberä¸elementsåšå¯¹æ¯”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">// Effect tags</span><br><span class="line">const PLACEMENT = 1;</span><br><span class="line">const DELETION = 2;</span><br><span class="line">const UPDATE = 3;</span><br><span class="line"></span><br><span class="line">function arrify(val) &#123;</span><br><span class="line">  return val == null ? [] : Array.isArray(val) ? val : [val];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function reconcileChildrenArray(wipFiber, newChildElements) &#123;</span><br><span class="line">  const elements = arrify(newChildElements);</span><br><span class="line"></span><br><span class="line">  let index = 0;</span><br><span class="line">  let oldFiber = wipFiber.alternate ? wipFiber.alternate.child : null;</span><br><span class="line">  let newFiber = null;</span><br><span class="line">  while (index &lt; elements.length || oldFiber != null) &#123;</span><br><span class="line">    const prevFiber = newFiber;</span><br><span class="line">    const element = index &lt; elements.length &amp;&amp; elements[index];</span><br><span class="line">    const sameType = oldFiber &amp;&amp; element &amp;&amp; element.type == oldFiber.type;</span><br><span class="line"></span><br><span class="line">    if (sameType) &#123;</span><br><span class="line">      newFiber = &#123;</span><br><span class="line">        type: oldFiber.type,</span><br><span class="line">        tag: oldFiber.tag,</span><br><span class="line">        stateNode: oldFiber.stateNode,</span><br><span class="line">        props: element.props,</span><br><span class="line">        parent: wipFiber,</span><br><span class="line">        alternate: oldFiber,</span><br><span class="line">        partialState: oldFiber.partialState,</span><br><span class="line">        effectTag: UPDATE</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (element &amp;&amp; !sameType) &#123;</span><br><span class="line">      newFiber = &#123;</span><br><span class="line">        type: element.type,</span><br><span class="line">        tag:</span><br><span class="line">          typeof element.type === &quot;string&quot; ? HOST_COMPONENT : CLASS_COMPONENT,</span><br><span class="line">        props: element.props,</span><br><span class="line">        parent: wipFiber,</span><br><span class="line">        effectTag: PLACEMENT</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (oldFiber &amp;&amp; !sameType) &#123;</span><br><span class="line">      oldFiber.effectTag = DELETION;</span><br><span class="line">      wipFiber.effects = wipFiber.effects || [];</span><br><span class="line">      wipFiber.effects.push(oldFiber);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (oldFiber) &#123;</span><br><span class="line">      oldFiber = oldFiber.sibling;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (index == 0) &#123;</span><br><span class="line">      wipFiber.child = newFiber;</span><br><span class="line">    &#125; else if (prevFiber &amp;&amp; element) &#123;</span><br><span class="line">      prevFiber.sibling = newFiber;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    index++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ€åä¸€æ­¥ï¼Œæ›´æ–°åˆ°dom</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">function commitAllWork(fiber) &#123;</span><br><span class="line">  fiber.effects.forEach(f =&gt; &#123;</span><br><span class="line">    commitWork(f);</span><br><span class="line">  &#125;);</span><br><span class="line">  fiber.stateNode._rootContainerFiber = fiber;</span><br><span class="line">  nextUnitOfWork = null;</span><br><span class="line">  pendingCommit = null;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function commitWork(fiber) &#123;</span><br><span class="line">  if (fiber.tag == HOST_ROOT) &#123;</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  let domParentFiber = fiber.parent;</span><br><span class="line">  while (domParentFiber.tag == CLASS_COMPONENT) &#123;</span><br><span class="line">    domParentFiber = domParentFiber.parent;</span><br><span class="line">  &#125;</span><br><span class="line">  const domParent = domParentFiber.stateNode;</span><br><span class="line"></span><br><span class="line">  if (fiber.effectTag == PLACEMENT &amp;&amp; fiber.tag == HOST_COMPONENT) &#123;</span><br><span class="line">    domParent.appendChild(fiber.stateNode);</span><br><span class="line">  &#125; else if (fiber.effectTag == UPDATE) &#123;</span><br><span class="line">    updateDomProperties(fiber.stateNode, fiber.alternate.props, fiber.props);</span><br><span class="line">  &#125; else if (fiber.effectTag == DELETION) &#123;</span><br><span class="line">    commitDeletion(fiber, domParent);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function commitDeletion(fiber, domParent) &#123;</span><br><span class="line">  let node = fiber;</span><br><span class="line">  while (true) &#123;</span><br><span class="line">    if (node.tag == CLASS_COMPONENT) &#123;</span><br><span class="line">      node = node.child;</span><br><span class="line">      continue;</span><br><span class="line">    &#125;</span><br><span class="line">    domParent.removeChild(node.stateNode);</span><br><span class="line">    while (node != fiber &amp;&amp; !node.sibling) &#123;</span><br><span class="line">      node = node.parent;</span><br><span class="line">    &#125;</span><br><span class="line">    if (node == fiber) &#123;</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line">    node = node.sibling;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>

	
	</div>
  <a type="button" href="/2018/12/31/React16-fiber/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2018/12/30/React-stack/" title="å¯¹å®ç°ä¸€ä¸ªReact(stack)æºç çš„æ€è€ƒ">æ‰‹å†™ä¸€ä¸ªç²¾ç®€ç‰ˆReact</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2018-12-30  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="å…ˆè´´åŸæ–‡ï¼Œrespectï¼ä»¥ä¸‹æ˜¯æ€»ç»“æ€è€ƒ"><a href="#å…ˆè´´åŸæ–‡ï¼Œrespectï¼ä»¥ä¸‹æ˜¯æ€»ç»“æ€è€ƒ" class="headerlink" title="å…ˆè´´åŸæ–‡ï¼Œrespectï¼ä»¥ä¸‹æ˜¯æ€»ç»“æ€è€ƒ"></a>å…ˆè´´åŸæ–‡ï¼Œrespectï¼ä»¥ä¸‹æ˜¯æ€»ç»“æ€è€ƒ</h1><p><a href="https://juejin.im/post/5c0c7304f265da613e22106c?utm_source=gold_browser_extension" target="_blank" rel="noopener">200è¡Œä»£ç å®ç°ç®€ç‰ˆreact</a></p>
<hr>
<h1 id="React-Component-jsx-vdom"><a href="#React-Component-jsx-vdom" class="headerlink" title="React = Component + jsx + vdom"></a>React = Component + jsx + vdom</h1><ul>
<li><p>Component = (class component) + (functional component)</p>
<h2 id="elementï¼ˆtypeof-type-â€™stringâ€™-â€™domèŠ‚ç‚¹â€™-â€™ç»„ä»¶å®ä¾‹â€™ï¼‰"><a href="#elementï¼ˆtypeof-type-â€™stringâ€™-â€™domèŠ‚ç‚¹â€™-â€™ç»„ä»¶å®ä¾‹â€™ï¼‰" class="headerlink" title="elementï¼ˆtypeof type=â€™stringâ€™?â€™domèŠ‚ç‚¹â€™:â€™ç»„ä»¶å®ä¾‹â€™ï¼‰"></a>element<object>ï¼ˆtypeof type=â€™stringâ€™?â€™domèŠ‚ç‚¹â€™:â€™ç»„ä»¶å®ä¾‹â€™ï¼‰</object></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function Button(props) &#123;&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  type: &apos;button&apos;||Button</span><br><span class="line">  props: &#123;</span><br><span class="line">    className: &apos;button button-blue&apos;,</span><br><span class="line">    children: &#123;</span><br><span class="line">      type: &apos;button-children&apos;,</span><br><span class="line">      props: &#123;</span><br><span class="line">        children: &apos;nb!&apos;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æé—®ï¼šReactå¦‚ä½•å°†jsxè¯­æ³•è½¬æ¢ä¸ºçº¯å¯¹è±¡ï¼Ÿ<br>ç­”æ¡ˆï¼šç»„ä»¶ç±»è¿”å›å€¼ç»è¿‡Babelï¼ˆDiyReact.createElementï¼‰<br>è¾“å‡º<code>var foo = createElement(&#39;div&#39;,{id:&#39;foo&#39;},&#39;nb!&#39;);</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// è½¬æ¢ä¸ºelementå¯¹è±¡</span><br><span class="line">function createElement(type, props, ...children) &#123;</span><br><span class="line">  props = Object.assign(&#123;&#125;,props);</span><br><span class="line">  props.children = [].concat(...children)</span><br><span class="line">    .filter(child =&gt; child != null &amp;&amp; child !== false)</span><br><span class="line">    .map(child =&gt; child instanceof Object ? child : createTextElement(child))</span><br><span class="line">  return &#123;type, props&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="element-amp-amp-dom"><a href="#element-amp-amp-dom" class="headerlink" title="element &amp;&amp; dom"></a>element &amp;&amp; dom</h2><p><img src="https://user-gold-cdn.xitu.io/2018/12/9/16790a131646f2ad?imageView2/0/w/1280/h/960/ignore-error/1" alt="dom"></p>
</li>
<li><p>ViewModel = vdomTree + diffAlgori</p>
<h2 id="vdomTree"><a href="#vdomTree" class="headerlink" title="vdomTree"></a>vdomTree</h2><p>creatElement()å‡½æ•°æœ€ç»ˆè¾“å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œé‚£æˆ‘ä»¬å¯ä»¥å¯¹å…¶ä¸­çš„propsæˆ–è€…stateè¿›è¡Œç›‘å¬ä¸æ›´æ–°ï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰<br>æ•´ä¸ªé¡µé¢å¯¹åº”ä¸€é¢—å¯ä»¥å®æ—¶æ›´æ–°çŠ¶æ€çš„è™šæ‹ŸdomèŠ‚ç‚¹æ ‘ğŸŒ²</p>
<h2 id="diffAlgoriï¼ˆé¿å…åˆ é™¤é‡å»ºdomèŠ‚ç‚¹çš„å¼€é”€ï¼‰"><a href="#diffAlgoriï¼ˆé¿å…åˆ é™¤é‡å»ºdomèŠ‚ç‚¹çš„å¼€é”€ï¼‰" class="headerlink" title="diffAlgoriï¼ˆé¿å…åˆ é™¤é‡å»ºdomèŠ‚ç‚¹çš„å¼€é”€ï¼‰"></a>diffAlgoriï¼ˆé¿å…åˆ é™¤é‡å»ºdomèŠ‚ç‚¹çš„å¼€é”€ï¼‰</h2><p><img src="https://user-gold-cdn.xitu.io/2018/12/9/16790a13163a4fa7?imageView2/0/w/1280/h/960/ignore-error/1" alt="diffç®—æ³•"></p>
</li>
<li><p>ReactDOM.render()<br>reactå…¥å£å³æ˜¯ç¬¬ä¸€å¸§ï¼Œæ‰€ä»¥æ­¤åçš„å¸§åªä¼šåœ¨æŒ‚è½½æœŸdiff<br>å¦‚ï¼šcompentDidMountã€componentWillUnmount</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// rootInstanceç”¨æ¥ç¼“å­˜ä¸€å¸§vdom</span><br><span class="line">let rootInstance = nullï¼Œè¿™é‡Œå³æ˜¯ç¬¬ä¸€å¸§</span><br><span class="line">function render(element, parentDom) &#123;</span><br><span class="line">  // prevInstanceæŒ‡å‘å‰ä¸€å¸§</span><br><span class="line">  const prevInstance = rootInstance // è¿™é‡Œå®ç°çš„ä»…æ˜¯ReactDOM.render,éç»„ä»¶render</span><br><span class="line">  // elementå‚æ•°æŒ‡å‘æ–°ç”Ÿæˆçš„vdomTree</span><br><span class="line">  const nextInstance = reconcile(parentDom, prevInstance, element) // å¯¹æ¯”å‰åå¸§</span><br><span class="line">  // è°ƒç”¨å®Œreconcileç®—æ³•ï¼ˆå³diffç®—æ³•ï¼‰åå°†rootInstanceæŒ‡å‘æœ€æ–°ä¸€å¸§</span><br><span class="line">  rootInstance = nextInstance</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æé—®ï¼šä½ è¿™é‡Œç”¨instanceè¡¨ç¤ºå¸§ï¼Œé‚£è·Ÿå‰é¢çš„elementæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ<br>ç­”æ¡ˆï¼šinstance = element + dom<br>åœ¨å¯¹æ¯”å‰åå¸§è°ƒç”¨reconcile()è¿›è¡Œdiffæ¯”è¾ƒæ—¶éœ€è¦æ›´æ–°åº”ç”¨åˆ°çœŸå®dom<br>ç”±æ­¤è¿˜éœ€è¦å®ç°ä¸€ä¸ªinstantiateå‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">function instantiate(element) &#123;</span><br><span class="line">  const &#123;type, props=&#123;&#125;&#125; = element</span><br><span class="line">  const isDomElement = typeof type === &apos;string&apos;</span><br><span class="line">  // åŒºåˆ†å‡½æ•°å¼ç»„ä»¶ä¸ç±»ç»„ä»¶</span><br><span class="line">  const isClassElement = !!(type.prototype &amp;&amp; type.prototype.isReactComponent)</span><br><span class="line">  if(isDomElement) &#123;</span><br><span class="line">    // åˆ›å»ºdom</span><br><span class="line">    const isTextElement = type === TEXT_ELEMENT</span><br><span class="line">    const dom = isTextElement ?</span><br><span class="line">    document.createTextNode(&apos;&apos;) :</span><br><span class="line">    document.createElement(type)</span><br><span class="line">    // è®¾ç½®domå±æ€§ï¼Œç»‘å®šdomäº‹ä»¶</span><br><span class="line">    updateDomProperties(dom, [], element.props)</span><br><span class="line">    const children = props.children || []</span><br><span class="line">    const childInstances = children.map(instantiate) // å­èŠ‚ç‚¹é€’å½’</span><br><span class="line">    const childDoms = childInstances.map(childInstance =&gt; childInstance.dom)</span><br><span class="line">    childDoms.forEach(childDom =&gt; dom.appendChild(childDom))</span><br><span class="line">    const instance = &#123;element, dom, childInstances&#125;</span><br><span class="line">    return instance</span><br><span class="line">  &#125; else if(isClassElement) &#123;</span><br><span class="line">    const instance = &#123;&#125;</span><br><span class="line">    const publicInstance = createPublicInstance(element, instance)</span><br><span class="line">    const childElement = publicInstance.render()</span><br><span class="line">    const childInstance = instantiate(childElement) // å­èŠ‚ç‚¹é€’å½’</span><br><span class="line">    Object.assign(instance, &#123;dom: childInstance.dom, element, childInstance, publicInstance&#125;)</span><br><span class="line">    reuturn instance</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    const childElement = type(element.props)</span><br><span class="line">    const childInstance = instantiate(childElement) // å­èŠ‚ç‚¹é€’å½’</span><br><span class="line">    const instance = &#123;</span><br><span class="line">      dom: childInstance.dom,</span><br><span class="line">      element,</span><br><span class="line">      childInstance</span><br><span class="line">    &#125;</span><br><span class="line">    return instance</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>æé—®ï¼šä½ è¯´è¿™ä¹ˆå¤šæˆ‘ä¹Ÿä¸æƒ³çœ‹å•Šï¼Œæœ€æ ¸å¿ƒçš„å¯¹æ¯”å‰åå¸§æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ<br>ç­”æ¡ˆï¼šreconcile()<br><code>ç”±stackç®—æ³•ï¼ˆé€’å½’å®ç°ï¼Œé˜»å¡çº¿ç¨‹ï¼‰å‡çº§ä¸ºReact16ä¸­fiberæ¶æ„ï¼ˆrequestIdleCallbackï¼‰</code><br><img src="https://user-gold-cdn.xitu.io/2018/12/9/16790a13163656b3?imageView2/0/w/1280/h/960/ignore-error/1" alt="reconcile"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">  function reconcile(parentDom, instance, element) &#123;</span><br><span class="line">  if (instance === null) &#123;</span><br><span class="line">    const newInstance = instantiate(element);</span><br><span class="line">    // componentWillMount</span><br><span class="line">    newInstance.publicInstance</span><br><span class="line">      &amp;&amp; newInstance.publicInstance.componentWillMount</span><br><span class="line">      &amp;&amp; newInstance.publicInstance.componentWillMount();</span><br><span class="line">    parentDom.appendChild(newInstance.dom);</span><br><span class="line">    // componentDidMount</span><br><span class="line">    newInstance.publicInstance</span><br><span class="line">      &amp;&amp; newInstance.publicInstance.componentDidMount</span><br><span class="line">      &amp;&amp; newInstance.publicInstance.componentDidMount();</span><br><span class="line">    return newInstance;</span><br><span class="line">  &#125; else if (element === null) &#123;</span><br><span class="line">    // componentWillUnmount</span><br><span class="line">    instance.publicInstance</span><br><span class="line">      &amp;&amp; instance.publicInstance.componentWillUnmount</span><br><span class="line">      &amp;&amp; instance.publicInstance.componentWillUnmount();</span><br><span class="line">    parentDom.removeChild(instance.dom);</span><br><span class="line">    return null;</span><br><span class="line">  &#125; else if (instance.element.type !== element.type) &#123;</span><br><span class="line">    const newInstance = instantiate(element);</span><br><span class="line">    // componentDidMount</span><br><span class="line">    newInstance.publicInstance</span><br><span class="line">      &amp;&amp; newInstance.publicInstance.componentDidMount</span><br><span class="line">      &amp;&amp; newInstance.publicInstance.componentDidMount();</span><br><span class="line">    parentDom.replaceChild(newInstance.dom, instance.dom);</span><br><span class="line">    return newInstance;</span><br><span class="line">  &#125; else if (typeof element.type === &apos;string&apos;) &#123;</span><br><span class="line">    updateDomProperties(instance.dom, instance.element.props, element.props);</span><br><span class="line">    instance.childInstances = reconcileChildren(instance, element);</span><br><span class="line">    instance.element = element;</span><br><span class="line">    return instance;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    if (instance.publicInstance</span><br><span class="line">      &amp;&amp; instance.publicInstance.shouldcomponentUpdate) &#123;</span><br><span class="line">      if (!instance.publicInstance.shouldcomponentUpdate()) &#123;</span><br><span class="line">        return;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // componentWillUpdate</span><br><span class="line">    instance.publicInstance</span><br><span class="line">      &amp;&amp; instance.publicInstance.componentWillUpdate</span><br><span class="line">      &amp;&amp; instance.publicInstance.componentWillUpdate();</span><br><span class="line">    instance.publicInstance.props = element.props;</span><br><span class="line">    const newChildElement = instance.publicInstance.render();</span><br><span class="line">    const oldChildInstance = instance.childInstance;</span><br><span class="line">    const newChildInstance = reconcile(parentDom, oldChildInstance, newChildElement);</span><br><span class="line">    // componentDidUpdate</span><br><span class="line">    instance.publicInstance</span><br><span class="line">      &amp;&amp; instance.publicInstance.componentDidUpdate</span><br><span class="line">      &amp;&amp; instance.publicInstance.componentDidUpdate();</span><br><span class="line">    instance.dom = newChildInstance.dom;</span><br><span class="line">    instance.childInstance = newChildInstance;</span><br><span class="line">    instance.element = element;</span><br><span class="line">    return instance;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function reconcileChildren(instance, element) &#123;</span><br><span class="line">  const &#123; dom, childInstances &#125; = instance;</span><br><span class="line">  const newChildElements = element.props.children || [];</span><br><span class="line">  const count = Math.max(childInstances.length, newChildElements.length);</span><br><span class="line">  const newChildInstances = [];</span><br><span class="line">  for (let i = 0; i &lt; count; i++) &#123;</span><br><span class="line">    newChildInstances[i] = reconcile(dom, childInstances[i], newChildElements[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  return newChildInstances.filter(instance =&gt; instance !== null);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>

	
	</div>
  <a type="button" href="/2018/12/30/React-stack/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2018/12/29/team/" title="å¯¹äºå›¢é˜Ÿçš„ä¸€äº›æ€è€ƒ">å…³äºå›¢é˜Ÿ</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2018-12-29  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="å›¢é˜Ÿ"><a href="#å›¢é˜Ÿ" class="headerlink" title="å›¢é˜Ÿ"></a>å›¢é˜Ÿ</h1><ul>
<li><p>ç›®æ ‡é‡åŒ–<br>å¯¹äºæ–°éœ€æ±‚çš„æŠŠæ§ï¼Œéœ€è¦leaderè€ƒè™‘ã€ç»†åŒ–æ¯ä¸€ä¸ªé‡è¦çš„ç‚¹ï¼Œkpiæ˜¯å¤šå°‘ï¼Œåˆç†åˆ†é…åˆ°ç ”å‘å±‚ï¼Œ<br>å…·ä½“å®ç°äº¤ç»™ç ”å‘ï¼Œé¡¹ç›®æ’æœŸå…·é—®å…·åˆ†ï¼Œå¯¹äºå‰ç«¯å›¢é˜Ÿæ¥è®²ï¼Œå¯ä»¥ä»é¡µé¢è½¬æ¢ç‡å…¥æ‰‹ï¼Œå»ºç«‹è®¢å•<br>æ¼æ–—æ¨¡å‹ï¼Œåšæ€§èƒ½åˆ†æä¼˜åŒ–ï¼ŒUIäº¤äº’ä¼˜åŒ–ï¼Œæ¯ä¸€ä¸ªå…·ä½“çš„å±‚é¢éƒ½éœ€è¦è½¬åŒ–ç›®æ ‡</p>
</li>
<li><p>è§£å†³é—®é¢˜<br>å›¢é˜Ÿé…åˆä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°kpiæœªå®Œæˆï¼Œæ— ä¼‘æ­¢åŠ ç­ï¼Œé«˜å‹è¿­ä»£ï¼Œå¯¼è‡´ä¸€æ¬¡è¿­ä»£æˆ˜çº¿æ‹‰é•¿ï¼Œå‡ºç°ç–²æƒ«ï¼Œ<br>æ•ˆç‡é™ä½ï¼Œå®¹æ˜“çŠ¯é”™ï¼Œåˆå¦‚ä½•å¸®åŠ©æ–°äººå¿«é€Ÿèå…¥å›¢é˜Ÿï¼Œä¸Šæ‰‹é¡¹ç›®ã€‚</p>
<p>æ€è€ƒå›¢é˜Ÿåˆ¶å®šçš„ä»äº§å“-&gt;è®¾è®¡-&gt;å¼€å‘-&gt;æµ‹è¯•-&gt;ä¸Šçº¿è¿™ä¸€å¥—æµç¨‹æ˜¯å¦ä¸ºå½“å‰æœ€é€‚åˆæµç¨‹ï¼ŒåŠæ—¶åšå‡º<br>è°ƒæ•´ï¼Œå¯¹äºå…¬å…±æœåŠ¡ä¸å·¥å…·åŒ–ã€è‡ªåŠ¨åŒ–æœåŠ¡ç­‰ï¼Œæœ‰æ²¡æœ‰å†…éƒ¨ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚</p>
</li>
</ul>
<h1 id="ä¸ªäºº"><a href="#ä¸ªäºº" class="headerlink" title="ä¸ªäºº"></a>ä¸ªäºº</h1><ul>
<li><p>æ„è¯†<br>åšä¸šåŠ¡ä¹‹å‰ï¼Œæ˜¯å¦å¯¹é¡¹ç›®æ•´ä½“æœ‰å…¨å±€æ„è¯†ï¼Œæ˜¯å¦èƒ½åˆ†æ¸…ä¸»æ¬¡ï¼Œå¯¹äºå›¢é˜Ÿå†…çš„æ¯ä¸€ä¸ªæµç¨‹æ˜¯å¦æœ‰äº²è‡ªå‚ä¸ï¼Œ<br>æ²Ÿé€šæ–¹é¢æ˜¯å¦èƒ½è¡¨è¾¾åˆ°ä½ï¼ŒçŸ¥é“è‡ªå·±åœ¨å›¢é˜Ÿä¸­çš„æ‹…å½“ä½ç½®ï¼Œé€è¿‡ç°è±¡çœ‹æœ¬è´¨ï¼Œå½“æœ‰é—®é¢˜åæœ‰æ²¡æœ‰æ·±å…¥äº†è§£<br>è¿‡æ¡†æ¶èƒŒåçš„åŸç†ï¼Œæˆ–è€…æ¶æ„æ–¹é¢å‡ºäº†ä»€ä¹ˆé—®é¢˜</p>
</li>
<li><p>æŠ€æœ¯<br>è‰¯è ä¸é½çš„åŒäº‹å¦‚ä½•ç›¸å¤„ä¸æ²Ÿé€šï¼Œå¦‚ä½•æå‡è‡ªå·±çš„å¼€å‘æ•ˆç‡ï¼Œåœ¨é¢å¯¹æŸäº›é—®é¢˜æœ‰æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸”èƒ½<br>æœ‰æ¡ç†ã€æ¸…æ™°çš„é˜è¿°ç»™åŒäº‹ï¼Œæ˜¯å¦å¯ä»¥åšä¸€äº›å·¥å…·ç±»æˆ–è€…UIåº“ç­‰çš„ä¸œè¥¿æ¥å¸®åŠ©å›¢é˜Ÿæ”¹å–„é‡å¤åŠ³åŠ¨çš„çŠ¶å†µï¼Œ<br>å¦‚ä½•ç»„ç»‡å†…éƒ¨åˆ†äº«ï¼Œæå‡å›¢é˜Ÿç»¼åˆæŠ€æœ¯èƒ½åŠ›</p>
</li>
</ul>
<h1 id="å…¬å…±ç®¡ç†"><a href="#å…¬å…±ç®¡ç†" class="headerlink" title="å…¬å…±ç®¡ç†"></a>å…¬å…±ç®¡ç†</h1><ul>
<li>å›¢é˜Ÿå·¥å…·åŒ–ç¨‹åº¦ä¸æˆç†Ÿåº¦æ­£ç›¸å…³</li>
<li>æœ€ä¼˜ä¸æœ€åˆé€‚è§£å†³æ–¹æ¡ˆ</li>
<li>åä½œæˆæœ¬ä¸æ‰§è¡ŒåŠ›</li>
<li>æ˜¯å¦æœ‰feedback(åé¦ˆæœºåˆ¶)</li>
</ul>

	
	</div>
  <a type="button" href="/2018/12/29/team/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2018/12/29/cors/" title="è·¨åŸŸè§£å†³æ–¹æ¡ˆ">è·¨åŸŸ</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2018-12-29  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="åŒæºç­–ç•¥"><a href="#åŒæºç­–ç•¥" class="headerlink" title="åŒæºç­–ç•¥"></a>åŒæºç­–ç•¥</h2><ul>
<li>åè®®+åŸŸå+ç«¯å£ éƒ½ç›¸åŒ</li>
<li>é™åˆ¶Cookieã€localStorageã€IndexDBã€Ajax</li>
</ul>
<h2 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h2><ul>
<li>é€šè¿‡jsonpè·¨åŸŸ</li>
<li>document.domain + iframeè·¨åŸŸ</li>
<li>location.hash + iframe</li>
<li>window.name + iframeè·¨åŸŸ</li>
<li>postMessageè·¨åŸŸ</li>
<li>è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰</li>
<li>nginxä»£ç†è·¨åŸŸ</li>
<li>nodejsä¸­é—´ä»¶ä»£ç†è·¨åŸŸ</li>
<li>WebSocketåè®®è·¨åŸŸ</li>
</ul>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul>
<li>CORSä¸ºä¸»æµè§£å†³æ–¹æ¡ˆ</li>
<li>åå‘ä»£ç†çš„é…ç½®ä¸ä½¿ç”¨nodejsä¸­é—´ä»¶åŸç†ç±»ä¼¼</li>
<li>å„æ–¹æ¡ˆä¼˜ç¼ºç‚¹</li>
</ul>

	
	</div>
  <a type="button" href="/2018/12/29/cors/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2018/12/28/introduce/" title="å¸Œæœ›ä¸€åˆ‡éƒ½å¥½">åšå®¢è¯´æ˜</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2018-12-28  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="å…³äºæˆ‘çš„åšå®¢"><a href="#å…³äºæˆ‘çš„åšå®¢" class="headerlink" title="å…³äºæˆ‘çš„åšå®¢"></a>å…³äºæˆ‘çš„åšå®¢</h1><ul>
<li>åšäº†æ”¹ç‰ˆ</li>
<li>æŠ€æœ¯å’Œç”Ÿæ´»éƒ½ä¼šè®°å½•ä¸‹æ¥</li>
<li>è¾“å‡ºå¹²è´§</li>
</ul>
<h1 id="å…³äºä¸»é¢˜"><a href="#å…³äºä¸»é¢˜" class="headerlink" title="å…³äºä¸»é¢˜"></a>å…³äºä¸»é¢˜</h1><ul>
<li>Freemind(<a href="https://github.com/blackshow/hexo-theme-freemind.386" target="_blank" rel="noopener">https://github.com/blackshow/hexo-theme-freemind.386</a>)</li>
<li>so cool!</li>
</ul>
<h1 id="çºªå¿µ"><a href="#çºªå¿µ" class="headerlink" title="çºªå¿µ"></a>çºªå¿µ</h1><ul>
<li>ä»Šå¤©ä¹Ÿæ˜¯ç¬¬ä¸€ä»½å·¥ä½œç¦»èŒ</li>
</ul>

	
	</div>
  <a type="button" href="/2018/12/28/introduce/#more" class="btn btn-default more">Read More</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">

   
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control">
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
	<div class="widget">
		<h4>Categories</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/code/">code<span>3</span></a></li>
		
			<li><a href="/categories/doc/">doc<span>7</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>Tag Cloud</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/js/">js<span>1</span></a></li>
		
			<li><a href="/tags/React/">React<span>2</span></a></li>
		
			<li><a href="/tags/summary/">summary<span>3</span></a></li>
		
			<li><a href="/tags/hexo/">hexo<span>2</span></a></li>
		
			<li><a href="/tags/realize/">realize<span>1</span></a></li>
		
			<li><a href="/tags/idea/">idea<span>1</span></a></li>
		
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2019/01/17/myApp/" title="è‡ªå·±å¯¹ä¸€ä¸ªappçš„ç†è§£"><i class="fa fa-file-o"></i>myApp</a>
      </li>
    
      <li>
        <a href="/2019/01/17/2019weChat/" title="è§‚2019å¾®ä¿¡å…¬å¼€è¯¾æœ‰æ„ŸåŠå¯¹ä¸‰ä¸ªæ–°ç¤¾äº¤è½¯ä»¶ç†è§£"><i class="fa fa-file-o"></i>2019å¾®ä¿¡å…¬å¼€è¯¾æœ‰æ„Ÿ</a>
      </li>
    
      <li>
        <a href="/2019/01/04/answer-forU/" title="é¢è¯•å¤ä¹ -ç­”æ¡ˆç‰ˆï¼ˆå»ºè®®æ‰¾å°ä¼™ä¼´ä¸€é—®ä¸€ç­”ï¼‰"><i class="fa fa-file-o"></i>ã€#2019é¢è¯•å‡†å¤‡ã€‘ç­”æ¡ˆç‰ˆ</a>
      </li>
    
      <li>
        <a href="/2019/01/04/question-forU/" title="é¢è¯•å¤ä¹ -é—®é¢˜ç‰ˆï¼ˆå»ºè®®æ‰¾å°ä¼™ä¼´ä¸€é—®ä¸€ç­”ï¼‰"><i class="fa fa-file-o"></i>ã€#2019é¢è¯•å‡†å¤‡ã€‘é—®é¢˜ç‰ˆ</a>
      </li>
    
      <li>
        <a href="/2019/01/02/2019interview/" title="é¢è¯•çŸ¥è¯†ç‚¹æ¢³ç†"><i class="fa fa-file-o"></i>ã€#2019é¢è¯•å‡†å¤‡ã€‘çŸ¥è¯†ç‚¹æ¢³ç†</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/c-yyy" title="My Github account." target="_blank" ]);"="">Github</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2019 inpm.cy@gmail.com
  
    Peace && Love  
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>â¬†ï¸TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
